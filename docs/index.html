<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Company Hub</title>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="./icon-192.png">
  <style>
    :root {
      --bg: #f9f9f9;
      --text: #222;
      --accent: #0066cc;
      --card: #fff;
      --shadow: rgba(0,0,0,0.05);
      --ease: cubic-bezier(0.25, 0.1, 0.25, 1);
    }
    html, body {
      margin: 0; padding: 0;
      font-family: "SF Pro Text", "Noto Sans JP", sans-serif;
      background: var(--bg); color: var(--text);
      scroll-behavior: smooth;
    }
    header {
      position: sticky; top: 0; z-index: 10;
      background: rgba(255,255,255,0.8);
      backdrop-filter: blur(10px);
      display: flex; align-items: center; justify-content: space-between;
      padding: 1rem 2rem; border-bottom: 1px solid #eee;
    }
    .logo { font-weight: 700; font-size: 1.2rem; display: flex; align-items: center; gap: .5rem; }
    .hero {
      text-align: center; padding: 6rem 1rem 4rem;
      max-width: 800px; margin: 0 auto;
      animation: fadeUp 1s var(--ease) both;
    }
    .hero h1 { font-size: 2.4rem; margin: 0 0 1rem; }
    .hero p { color: #555; font-size: 1.1rem; }

    section {
      padding: 4rem 2rem;
      max-width: 1000px; margin: 0 auto;
    }
    h2.sec-title { font-size: 1.6rem; margin-bottom: 2rem; text-align: center; }

    .grid {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(250px,1fr));
      gap: 2rem;
    }
    .card {
      background: var(--card);
      border-radius: 16px; box-shadow: 0 4px 10px var(--shadow);
      padding: 1.5rem; display: flex; flex-direction: column; gap: 1rem;
      opacity: 0; transform: translateY(30px);
      animation: fadeUp .6s var(--ease) forwards;
    }
    .card h3 { margin: 0; }
    .btn {
      display: inline-block;
      background: var(--accent); color: #fff;
      padding: .6rem 1rem; border-radius: 8px;
      text-decoration: none; text-align: center;
      transition: opacity .2s;
    }
    .btn:hover { opacity: 0.8; }

    footer {
      text-align: center; padding: 2rem; color: #777; font-size: 0.9rem;
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="./icon-192.png" alt="logo" style="height:24px;"> Company Hub
    </div>
    <button id="installBtn" style="padding:0.4rem 1rem; border:1px solid #ccc; border-radius:8px; background:#fff; cursor:pointer;">＋インストール</button>
  </header>

  <div class="hero">
    <h1>あなたの会社のすべてのWebアプリをここに。</h1>
    <p>もうメールやブックマークを探す必要はありません。ワンクリックで全ての業務アプリにアクセスできます。</p>
  </div>

  <section id="apps">
    <h2 class="sec-title">アプリ一覧</h2>
    <div class="grid" id="grid"></div>
  </section>

  <footer>© 2025 Company Hub</footer>

  <script>
    const TEST_APPS = [
      { name: "経費精算", url: "https://example.com/expense", desc: "経費申請と承認フロー", tags: ["経理","申請"] },
      { name: "勤怠管理", url: "https://example.com/attendance", desc: "出退勤の登録・承認", tags: ["人事"] },
      { name: "在庫ダッシュボード", url: "https://example.com/inventory", desc: "在庫・入出庫の可視化", tags: ["物流","ダッシュボード"] },
      { name: "請求書発行", url: "https://example.com/invoice", desc: "見積・請求書の作成と送付", tags: ["営業","経理"] }
    ];

    const grid = document.getElementById("grid");
    TEST_APPS.forEach((app,i)=>{
      const card=document.createElement("div");
      card.className="card";
      card.style.animationDelay = `${i*100}ms`;
      card.innerHTML = `
        <h3>${app.name}</h3>
        <p>${app.desc}</p>
        <a href="${app.url}" target="_blank" class="btn">開く</a>`;
      grid.appendChild(card);
    });

    // PWAインストール
    let deferredPrompt;
    const installBtn = document.getElementById('installBtn');
    installBtn.style.display = 'none';
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      installBtn.style.display = 'block';
    });
    installBtn.addEventListener('click', async () => {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        if (outcome === 'accepted') installBtn.style.display = 'none';
        deferredPrompt = null;
      }
    });
  </script>
</body>
</html>

