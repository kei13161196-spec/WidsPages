<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Company Hub</title>
<link rel="manifest" href="manifest.json">
<link rel="icon" href="./icon-192.png">
<meta name="theme-color" content="#f7f3ee">

<!-- =========================================
   Theme: サンド×コバルト（Apple感強め）
   - 太めのタイポ／広い余白
   - 透過ナビ + ガラス感
   - セクション毎のダイナミックな登場
   - カードは大きめ・画像風プレースホルダ
   ========================================= -->
<style>
:root{
  --bg:#f7f3ee;         /* 背景（温かいサンド） */
  --ink:#1c232e;        /* 文字 */
  --muted:#5b6470;      /* サブ文字 */
  --card:#fff;          /* カード背景 */
  --line:#e9dfd4;       /* 枠線 */
  --accent:#2457ff;     /* コバルト */
  --accent-ink:#fff;
  --glass:rgba(255,255,255,.55);
  --shadow:0 20px 50px rgba(28,35,46,.10);
  --ease:cubic-bezier(.2,.7,.2,1);
}
*{box-sizing:border-box}
html,body{
  margin:0;background:var(--bg);color:var(--ink);
  font:16px/1.55 ui-sans-serif,system-ui,-apple-system,"SF Pro Text","Noto Sans JP",Segoe UI,Roboto,Helvetica,Arial;
  letter-spacing:.02em;
}

/* ===== Top Nav (ガラス/固定) ===== */
nav{
  position:sticky;top:0;z-index:50;
  backdrop-filter: blur(16px);
  background: color-mix(in srgb, var(--glass), #fff 35%);
  border-bottom:1px solid var(--line);
}
.nav-inner{
  max-width:1200px;margin:0 auto;display:flex;gap:14px;align-items:center;justify-content:space-between;
  padding:14px 22px;
}
.brand{display:flex;gap:10px;align-items:center;font-weight:800}
.brand img{height:22px}
.nav-cta{display:flex;gap:10px;align-items:center}
.btn-chip{
  appearance:none;border:1px solid var(--line);background:#fff;border-radius:999px;padding:8px 14px;cursor:pointer;
}
.search{
  flex:1 1 560px;max-width:600px;background:#fff;border:1px solid var(--line);border-radius:12px;padding:10px 14px;
}

/* ===== Hero（大きな見出し＋サブコピー） ===== */
.hero{
  position:relative;overflow:hidden;
  max-width:1200px;margin:0 auto;padding:80px 22px 40px;
}
.hero::before{
  content:"";position:absolute;inset:-30%;
  background:
    radial-gradient(60% 40% at 20% 25%, rgba(36,87,255,.08), transparent 60%),
    radial-gradient(55% 35% at 80% 70%, rgba(36,87,255,.10), transparent 60%);
  filter:blur(22px);z-index:-1;transform:translateY(var(--pOffset,0px));
}
.h1{
  font-weight:800;line-height:1.1;margin:0 0 14px;font-size:clamp(28px,5vw,44px);
  letter-spacing:-.01em;
}
.sub{color:var(--muted);font-size:clamp(14px,2.4vw,18px);max-width:820px}

/* ===== Section wrapper ===== */
section{max-width:1200px;margin:0 auto;padding:36px 22px}
.sec-title{font-size:22px;font-weight:800;letter-spacing:-.02em;margin:0 0 18px}

/* ===== Feature tiles（Appleの特集ブロック風） ===== */
.tiles{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px
}
.tile{
  position:relative;overflow:hidden;border:1px solid var(--line);border-radius:22px;background:var(--card);
  box-shadow:var(--shadow);padding:22px;min-height:180px;
  transform:translateY(24px);opacity:0;
  animation:tileIn .7s var(--ease) forwards;
}
.tile h3{margin:0 0 6px;font-size:20px}
.tile p{margin:0;color:var(--muted)}
.tile::after{
  content:"";position:absolute;right:-12%;bottom:-12%;width:220px;height:220px;border-radius:26px;
  background:linear-gradient(135deg,#dde3ff 0%, #ffffff 55%);filter:blur(2px);
  transform:rotate(8deg);
}

/* ===== App cards（大ぶり、画像風プレースホルダ付き） ===== */
.grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:18px
}
.card{
  border:1px solid var(--line);border-radius:22px;background:var(--card);box-shadow:var(--shadow);
  overflow:hidden;display:flex;flex-direction:column;transform:translateY(20px);opacity:0;
  animation:cardIn .55s var(--ease) forwards;
  transition:transform .25s var(--ease);
}
.card:hover{transform:translateY(-4px)}
.card .ph{
  height:160px;background:
    linear-gradient(180deg,#f5f7ff,#ffffff 60%),
    repeating-linear-gradient(90deg, #eef2ff 0 2px, transparent 2px 6px);
}
.card .body{padding:16px 18px 18px}
.ttl{margin:0 0 8px;font-weight:800;letter-spacing:-.01em;font-size:20px}
.desc{margin:0 0 12px;color:var(--muted)}
.badges{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}
.badge{border:1px solid var(--line);border-radius:999px;padding:4px 10px;font-size:12px;background:#fafbff}
.actions{display:flex;gap:10px;align-items:center}
.btn{
  appearance:none;border:1px solid var(--line);border-radius:12px;padding:10px 14px;cursor:pointer;text-decoration:none;
  background:var(--accent);color:var(--accent-ink);font-weight:600;letter-spacing:.02em
}
.btn.ghost{background:#fff;color:var(--ink)}
/* Tilt-ish hover */
.card:hover .ph{transform:scale(1.02);transition:transform .4s var(--ease)}

/* ===== Reveal animations ===== */
@keyframes cardIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
@keyframes tileIn{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}

/* ===== Footer ===== */
footer{color:#7a828f;text-align:center;padding:36px 10px;margin-top:16px;border-top:1px solid var(--line)}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){*{animation:none!important;transition:none!important}}
</style>
</head>
<body>

<!-- ===== NAV ===== -->
<nav>
  <div class="nav-inner">
    <div class="brand"><img src="./icon-192.png" alt="logo"><span>Company Hub</span></div>
    <input id="q" class="search" type="search" placeholder="検索（例: 経費, 請求, 在庫）">
    <div class="nav-cta">
      <a href="#features" class="btn-chip">特徴</a>
      <a href="#apps" class="btn-chip">アプリ</a>
      <button id="installBtn" class="btn-chip">＋インストール</button>
    </div>
  </div>
</nav>

<!-- ===== HERO ===== -->
<header class="hero">
  <h1 class="h1">探さない、迷わない。<br>社内アプリの入口を、ひとつに。</h1>
  <p class="sub">Appleのような静かな美しさと、最短の到達体験。検索・タグ・お気に入り。すべてここから。</p>
</header>

<!-- ===== FEATURES ===== -->
<section id="features" class="reveal">
  <h2 class="sec-title">Company Hub の特徴</h2>
  <div class="tiles">
    <div class="tile" style="animation-delay:40ms">
      <h3>ワンクリック起動</h3>
      <p>ブックマークもメールも不要。PWAでホーム画面から即起動。</p>
    </div>
    <div class="tile" style="animation-delay:120ms">
      <h3>近未来UI</h3>
      <p>ガラス感・余白・大胆なタイポ。軽いアニメで心地よく。</p>
    </div>
    <div class="tile" style="animation-delay:200ms">
      <h3>運用はシートだけ</h3>
      <p>最終的にはGoogleシート/GASからアプリ一覧を自動反映。</p>
    </div>
  </div>
</section>

<!-- ===== APPS ===== -->
<section id="apps" class="reveal">
  <h2 class="sec-title">アプリ一覧</h2>
  <div class="grid" id="grid"></div>
</section>

<footer>© Company. Powered by GitHub Pages + PWA</footer>

<script>
/* ================== データ ================== */
const TEST_APPS = [
  { name: "経費精算", url: "https://example.com/expense",   desc: "経費申請と承認フロー", tags: ["経理","申請"] },
  { name: "勤怠管理", url: "https://example.com/attendance", desc: "出退勤の登録・承認", tags: ["人事"] },
  { name: "在庫ダッシュボード", url: "https://example.com/inventory", desc: "在庫・入出庫の可視化", tags: ["物流","ダッシュボード"] },
  { name: "請求書発行", url: "https://example.com/invoice", desc: "見積・請求書の作成と送付", tags: ["営業","経理"] }
];

/* ================== ユーティリティ ================== */
const $=(q,el=document)=>el.querySelector(q);
const grid=$("#grid"), q=$("#q");

/* ================== レンダリング ================== */
function render(list=TEST_APPS){
  grid.innerHTML="";
  list.forEach((a,i)=>{
    const el=document.createElement("article");
    el.className="card"; el.style.animationDelay=`${i*70}ms`;
    el.innerHTML=`
      <div class="ph"></div>
      <div class="body">
        <h3 class="ttl">${a.name}</h3>
        <p class="desc">${a.desc||""}</p>
        <div class="badges">${a.tags.map(t=>`<span class="badge">${t}</span>`).join("")}</div>
        <div class="actions">
          <a class="btn" href="${a.url}" target="_blank" rel="noopener">開く</a>
          <a class="btn ghost" href="${a.url}" target="_blank" rel="noopener">詳細</a>
        </div>
      </div>`;
    el.onclick=(e)=>{ if(e.target.tagName!=="A") window.open(a.url,"_blank","noopener"); };
    grid.appendChild(el);
  });
}
q.addEventListener("input",()=>{
  const kw=q.value.trim().toLowerCase();
  const list = TEST_APPS.filter(a=>{
    const hay=(a.name+" "+a.desc+" "+a.tags.join(" ")).toLowerCase();
    return !kw || hay.includes(kw);
  });
  render(list);
});

/* ================== Scroll Reveal（Appleっぽく） ================== */
const io=new IntersectionObserver((entries)=>{
  entries.forEach(e=>{
    if(e.isIntersecting){
      e.target.querySelectorAll(".card,.tile").forEach(n=>n.style.animationPlayState="running");
      io.unobserve(e.target);
    }
  });
},{threshold:.15});
document.querySelectorAll(".reveal").forEach(s=>{
  s.querySelectorAll(".card,.tile").forEach(n=>n.style.animationPlayState="paused");
  io.observe(s);
});

/* ================== Parallax (Hero背景) ================== */
(()=>{ const hero=document.querySelector('.hero');
  const onScroll=()=>{ const y=Math.min(40,Math.max(-40,window.scrollY*.12)); hero.style.setProperty('--pOffset',`${y}px`); };
  onScroll(); document.addEventListener('scroll',onScroll,{passive:true});
})();

/* ================== PWA Install ================== */
let deferredPrompt; const installBtn=$("#installBtn"); installBtn.style.display="none";
window.addEventListener('beforeinstallprompt',(e)=>{ e.preventDefault(); deferredPrompt=e; installBtn.style.display="inline-block"; });
installBtn.addEventListener('click',async()=>{ if(!deferredPrompt) return; deferredPrompt.prompt(); deferredPrompt=null; installBtn.style.display="none"; });

/* ================== 起動 ================== */
render();
if("serviceWorker" in navigator) navigator.serviceWorker.register("./sw.js");
</script>
</body>
</html>

